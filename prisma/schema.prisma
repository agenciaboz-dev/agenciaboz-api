generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "mysql"
    url      = env("DATABASE_URL")
}

model contracts {
    id          Int      @id @default(autoincrement())
    unit        String   @unique(map: "unit")
    date        DateTime @db.Date
    pessoa      String   
    supplier    String  
    name        String  
    email       String  
    phone       String  
    address     String  
    cep         String  
    cnpj        String? 
    company     String? 
    category    String? 
    cpf         String? 
    rg          String? 
    seller      users    @relation(fields: [seller_id], references: [id])
    seller_id   Int      
    rdstation   rdstation?
    financial   financial?
}

model emails {
    id    Int     @id @default(autoincrement())
    email String?
}

model users {
    id            Int       @id @default(autoincrement())
    username      String?   @unique
    email         String?   @unique
    password      String?
    name          String 
    adm           Boolean   @default(false)
    contracts     contracts[]
}

model financial {
    id          Int         @id @default(autoincrement())
    name        String 
    phone       String 
    email       String  
    contract    contracts   @relation(fields: [contract_id], references: [id])
    contract_id Int         @unique
}

model rdstation {
    id          Int         @id
    state       Int         @default(1)
    contract    contracts   @relation(fields: [contract_id], references: [id])
    contract_id Int         @unique
}